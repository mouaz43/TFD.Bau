<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Galerie — TFD</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body class="logo-bg">
  <!-- NAV + slide-in menu (same as on index) -->
  <!-- copy from index.html nav through backdrop -->
  <!-- START: NAV -->
  <nav class="nav"><div class="container bar">
    <button class="menu-btn" id="menuToggle" aria-label="Menü" aria-expanded="false"><span class="bars"></span><span>Menü</span></button>
    <a class="brand" href="/index.html" aria-label="Startseite">
      <!-- CoreSection SVG block (same as index) -->
      <!-- (omitted here for brevity—use identical block from index.html) -->
      <svg class="logo-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><defs><radialGradient id="ring" cx="50%" cy="40%" r="70%"><stop offset="0%" stop-color="#FFFFFF" stop-opacity=".20"/><stop offset="100%" stop-color="#FFFFFF" stop-opacity=".02"/></radialGradient><linearGradient id="wallWarm" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#FF8A3D"/><stop offset="100%" stop-color="#FF5C00"/></linearGradient><linearGradient id="floorNeutral" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#1A2230"/><stop offset="100%" stop-color="#0F141D"/></linearGradient><linearGradient id="yardCool" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#7AA3FF"/><stop offset="100%" stop-color="#2B5BD3"/></linearGradient><filter id="csShadow" x="-30%" y="-30%" width="160%" height="160%"><feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#000" flood-opacity=".35"/></filter><clipPath id="csClip"><circle cx="100" cy="100" r="88"/></clipPath><clipPath id="plankClip"><polygon points="48,120 100,88 152,120 100,152"/></clipPath><clipPath id="paverClip"><polygon points="100,35 152,66 152,120 100,88"/></clipPath></defs><g filter="url(#csShadow)"><circle cx="100" cy="100" r="88" fill="none" stroke="url(#ring)" stroke-width="3"/><g clip-path="url(#csClip)"><polygon points="100,35 48,66 48,120 100,88" fill="url(#wallWarm)" stroke="rgba(255,255,255,.26)" stroke-width="2"/><path d="M66,108 L66,74" stroke="#F9FAFB" stroke-width="6" stroke-linecap="round" opacity=".9"/><polygon points="48,120 100,88 152,120 100,152" fill="url(#floorNeutral)" stroke="rgba(255,255,255,.22)" stroke-width="2"/><g clip-path="url(#plankClip)" stroke="rgba(255,255,255,.32)" stroke-width="3" stroke-linecap="round"><path d="M62,132 L140,89"/><path d="M82,146 L158,104"/></g><polygon points="100,35 152,66 152,120 100,88" fill="url(#yardCool)" stroke="rgba(255,255,255,.26)" stroke-width="2"/><g clip-path="url(#paverClip)" stroke="rgba(255,255,255,.55)" stroke-width="2" opacity=".75"><path d="M122,98 L150,82"/><path d="M122,108 L150,92"/><path d="M136,76 L136,114"/></g><g transform="translate(150,118)"><path d="M-4,6 C6,2 8,-6 2,-10 C-2,-7 -3,-1 -4,6 Z" fill="#21C55D" opacity=".95"/><path d="M-7,6 C-2,4 1,1 2,-2" stroke="#E6FBEF" stroke-width="2" stroke-linecap="round" opacity=".9"/></g></g></g></svg>
      <strong>TFD</strong>
    </a><div class="spacer"></div></div></nav>
  <div class="menu-panel" id="menuPanel" aria-hidden="true"><div class="menu-head"><div class="mini-brand"><strong>Menü</strong></div><button class="menu-close" id="menuClose">Schließen ✕</button></div><nav class="menu-links"><a href="/index.html">Start</a><a href="/leistungen.html">Leistungen</a><a href="/galerie.html">Galerie</a><a href="/faq.html">FAQ</a><a class="cta" href="/kontakt.html">Kontakt</a></nav><div class="menu-quick"><a class="primary" href="mailto:AHMAD.MAMO@gmail.com?subject=Anfrage%20%E2%80%93%20TFD&body=Hallo%20TFD%2C%20ich%20habe%20eine%20Anfrage%20zu%3A%20">E-Mail</a><a href="tel:+4915770070701">Anrufen</a><a href="https://wa.me/4915770070701?text=Hallo%20TFD%2C%20ich%20habe%20eine%20Anfrage." target="_blank" rel="noopener">WhatsApp</a></div><div class="menu-footer"><a href="/legal/impressum.html">Impressum</a><a href="/legal/datenschutz.html">Datenschutz</a></div></div>
  <div class="menu-backdrop" id="menuBackdrop"></div>
  <!-- END: NAV -->

  <main class="container">
    <section class="section">
      <div class="row">
        <h1>Vorher/Nachher Galerie</h1>
        <select id="filter" class="btn" onchange="renderGallery(this.value)">
          <option value="alle">Alle Kategorien</option>
          <option value="innenausbau">Innenausbau</option>
          <option value="trockenbau">Trockenbau</option>
          <option value="bodenleger">Bodenleger</option>
          <option value="gartenarbeit">Gartenarbeit</option>
        </select>
      </div>
      <div id="gallery" class="grid" style="grid-template-columns:1fr; gap:20px"></div>
    </section>
  </main>

  <footer class="footer"><div class="container">© <span id="year"></span> TFD · <a href="/legal/impressum.html">Impressum</a> · <a href="/legal/datenschutz.html">Datenschutz</a></div></footer>

  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/ba-slider.js"></script>
  <script>
    async function fetchProjects(){ const res = await fetch('/content/projects.json'); return await res.json(); }
    function baCard(project, idx){
      return `<div class="card">
        <div class="row"><strong>${project.title}</strong><span class="muted">${project.location}</span></div>
        <div class="ba" id="ba_${idx}">
          <img src="${project.before}" alt="Before">
          <div class="top"><img src="${project.after}" alt="After"></div>
          <div class="handle"></div>
          <div class="labels"><span>Vorher</span><span>Nachher</span></div>
        </div>
        <div class="muted" style="margin-top:8px">${(project.metrics?.qm||'?')} m² · ${(project.metrics?.dauer_tage||'?')} Tage</div>
      </div>`;
    }
    async function renderGallery(filter='alle'){
      const mount = document.getElementById('gallery');
      const data = await fetchProjects();
      const list = data.filter(p => filter==='alle' ? true : p.category===filter);
      mount.innerHTML = list.map((p,i)=>baCard(p,i)).join('');
      list.forEach((p,i)=> initBASlider('ba_'+i, 50));
    }
    renderGallery('alle');
  </script>
</body>
</html>
